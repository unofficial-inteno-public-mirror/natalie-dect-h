/****************************************************************************
* Program/file: ApiFpLlme.h
*
* Copyright (C) by RTX A/S, Denmark.
* These computer program listings and specifications, are the property of
* RTX A/S, Denmark and shall not be reproduced or copied or used in
* whole or in part without written permission from RTX A/S, Denmark.
*
* Programmer: Rasmus Foss 
*
* MODULE: ApiFpLlme
* CONTROLLING DOCUMENT: Phoenix_API_FP_Llme.doc   Revision: 64
* DESCRIPTION: Definition of the ApiFpLlme interface.
* This file is generated by Word from the interface document: Phoenix_API_FP_Llme.doc using InterfaceMacro version 68
*
* DO NOT MAKE CHANGES TO THIS FILE DIRECTLY!
* CHANGES SHOULD ONLY BE MADE TO THE INTERFACE DOCUMENT!
*
****************************************************************************/

/*! \file
* Definition of the ApiFpLlme interface.
*/

/****************************************************************************
*                                  PVCS info
*****************************************************************************

$Author:   tma  $
$Date:   26 May 2014 10:21:16  $
$Revision:   1.5  $
$Modtime:   26 May 2014 10:20:28  $
$Archive:   J:/sw/Include/Phoenix/Api/FpLlme/vcs/ApiFpLlme.h_v  $
*/

#ifndef APIFPLLME_H
#define APIFPLLME_H

/****************************************************************************
*                               Include files
****************************************************************************/
/*! The following API header files must be included. */
#include <Api/ApiCfg.h> /* API configuration */
/*! The following API header files must be included. */
#include <Phoenix/Api/Types/ApiTypes.h> /* General types used. */

/****************************************************************************
*                               Macros/Defines
****************************************************************************/

/*! This type describes features available in this API. */
#define API_FP_LLME_EXTENDED_TERMINAL_ID_SUPPORT 0x01

/****************************************************************************
*                     Enumerations/Type definitions/Structs
****************************************************************************/

#if (RTX_CORE_VERSION >= 0x0224)
  #include <Standard/Common/RsPushPack1.h>
#else
  #pragma pack(push,1)
#endif

/* Mail primitives:
  API_FP_LLME_GET_RSSI_REQ = 0x47B0,
  API_FP_LLME_GET_RSSI_CFM = 0x47B1,
  API_FP_LLME_GET_PERFORMANCE_TABLE_REQ = 0x47B2,
  API_FP_LLME_GET_PERFORMANCE_TABLE_CFM = 0x47B3,
  API_FP_LLME_SET_FEATURES_REQ = 0x47B4,
  API_FP_LLME_SET_FEATURES_CFM = 0x47B5,
  API_FP_LLME_GET_FEATURES_REQ = 0x47B6,
  API_FP_LLME_GET_FEATURES_CFM = 0x47B7,
End of mail primitives. */



/*! This type is used to exchange features between the host and the DECT
   module. */
typedef rsuint8 ApiFpLlmeFeatureType;


/*! Mail without parameters. */
typedef struct ApifpllmeEmptySignalType
{
  RosPrimitiveType Primitive; /*!< Mail primitive. */
} ApifpllmeEmptySignalType;

/*! This mail is used by the API to request the signal strength of an
   ongoing call to the MMI. */
typedef struct ApiFpLlmeGetRssiReqType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_GET_RSSI_REQ = 0x47B0 */
  ApiTerminalIdType TerminalId;        /*!< Selects which Pp to receive RSSI from */
} ApiFpLlmeGetRssiReqType;

/*! This mail is used by the API to return signal strength of an ongoing
   call to the MMI. */
typedef struct ApiFpLlmeGetRssiCfmType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_GET_RSSI_CFM = 0x47B1 */
  RsStatusType Status;                  /*!< Indicates whether the command succeeded or
                                           not. Command will only report SUCCESS if
                                           connection is active. */
  ApiTerminalIdType TerminalId;        /*!< Selected Pp */
  rsuint8 Rssi;                         /*!< Received Signal Strength Indication for the
                                           selected Pp. Range 0x00-0x3F. */
} ApiFpLlmeGetRssiCfmType;

/*! This command is used by the MMI to request the API to return the
   protocol performance table with connection statistics for a specific Pp. */
typedef struct ApiFpLlmeGetPerformanceTableReqType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_GET_PERFORMANCE_TABLE_REQ = 0x47B2 */
  ApiTerminalIdType TerminalId;        /*!< Selects which Pp to receive statistics from */
} ApiFpLlmeGetPerformanceTableReqType;

/*! This mail is used by the API to return the performance table to the MMI.
    The info will represent the latest cc connection while ongoing or completed.
    PerformanceTable counters will be reset when setting up a new connection. */
typedef struct ApiFpLlmeGetPerformanceTableCfmType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_GET_PERFORMANCE_TABLE_CFM = 0x47B3 */
  RsStatusType Status;                  /*!< Indicates whether the command succeeded or
                                           not. */
  ApiTerminalIdType TerminalId;        /*!< Receiving info from Pp */
  rsuint32 PerformanceHandovers;        /*!< Number of Handovers in last call */
  rsuint32 PerformanceSyncFailures;     /*!< SyncFailures in last call */
  rsuint32 PerformanceControlFieldErrs; /*!< PerformanceControlFieldErrs in last call
                                            (ACRC) */
  rsuint32 PerformancePayloadErrs;      /*!< PerformancePayloadErrs in call (XCRC) */
  rsuint32 PerformanceSlidingCollisions; /*!< PerformanceSlidingCollisions in last call
                                             (ZCRC) */
  rsuint32 PerformanceLinkErrsQbit;     /*!< PerformanceLinkErrsQbit in last call (QErr) */
} ApiFpLlmeGetPerformanceTableCfmType;

/*! This command is used to enable/disable features in the FpLlme API.
    Enabling/disabling of extended terminal id will also affect all other APIs
   using TerminalId. */
typedef struct ApiFpLlmeSetFeaturesReqType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_SET_FEATURES_REQ = 0x47B4 */
  ApiFpLlmeFeatureType ApiFpLlmeFeature; /*!< Requested features */
} ApiFpLlmeSetFeaturesReqType;

/*! This command confirms the new feature settings. */
typedef struct ApiFpLlmeSetFeaturesCfmType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_SET_FEATURES_CFM = 0x47B5 */
  RsStatusType Status;
  ApiFpLlmeFeatureType ApiFpLlmeFeature; /*!< Supported features */
} ApiFpLlmeSetFeaturesCfmType;

/*! This command is used request the current feature settings. */
typedef ApifpllmeEmptySignalType ApiFpLlmeGetFeaturesReqType;

/*! This command returns the current feature settings. */
typedef struct ApiFpLlmeGetFeaturesCfmType
{
  RosPrimitiveType Primitive;            /*!< API_FP_LLME_GET_FEATURES_CFM = 0x47B7 */
  ApiFpLlmeFeatureType CurrentFeatures; /*!< Current feature settings */
  ApiFpLlmeFeatureType AvailableFeatures; /*!< Available feature settings */
} ApiFpLlmeGetFeaturesCfmType;

#if (RTX_CORE_VERSION >= 0x0224)
  #include <Standard/Common/RsPopPack.h>
#else
  #pragma pack(pop)
#endif

#ifdef __cplusplus
extern "C"
{
#endif
/** \cond internal */

/****************************************************************************
*     Function prototypes for mail packaging and sending(MPS) functions
****************************************************************************/

/****************************************************************************
* FUNCTION:      SendApiFpLlmeGetRssiReq
* DESCRIPTION:   MPS function for sending mails with primitive:
*                API_FP_LLME_GET_RSSI_REQ = 0x47B0
****************************************************************************/
void SendApiFpLlmeGetRssiReq ( RosTaskIdType Src,
                               ApiTerminalIdType TerminalId);
                                                             /*!< Selects which Pp to
                                                                receive RSSI from */

/****************************************************************************
* FUNCTION:      SendApiFpLlmeGetPerformanceTableReq
* DESCRIPTION:   MPS function for sending mails with primitive:
*                API_FP_LLME_GET_PERFORMANCE_TABLE_REQ = 0x47B2
****************************************************************************/
void SendApiFpLlmeGetPerformanceTableReq ( RosTaskIdType Src,
                                           ApiTerminalIdType TerminalId);
                                                             /*!< Selects which Pp to
                                                                receive statistics from */

/****************************************************************************
* FUNCTION:      SendApiFpLlmeSetFeaturesReq
* DESCRIPTION:   MPS function for sending mails with primitive:
*                API_FP_LLME_SET_FEATURES_REQ = 0x47B4
****************************************************************************/
void SendApiFpLlmeSetFeaturesReq ( RosTaskIdType Src,
                                   ApiFpLlmeFeatureType ApiFpLlmeFeature);
                                                             /*!< Requested features */

/****************************************************************************
* FUNCTION:      SendApiFpLlmeGetFeaturesReq
* DESCRIPTION:   MPS function for sending mails with primitive:
*                API_FP_LLME_GET_FEATURES_REQ = 0x47B6
****************************************************************************/
void SendApiFpLlmeGetFeaturesReq ( RosTaskIdType Src );


/** \endcond */
#ifdef __cplusplus
}
#endif
#endif /*APIFPLLME_H */


